<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <script src="index.js"></script>
    <title>宋晓棠专用</title>
</head>
<body>
    <div id="app" class="body">
        <div class="table">
           <div class="table_title">
                <div class="titles"></div>
                <div class="timeCls">2023年07月20日 16:06:00</div>
           </div>
           <div class="table_underline"></div>
           <div class="table_content"></div>
           <p id = "loadevent"></p>
           <div class="table_label">
                <div><img src="image/pass.png" alt=""> <div>完成待办</div></div>
           </div>
        </div>
    </div>
    <script>
        let titleStr = '欢迎宋晓棠小宝贝~'
        window.onresize = function () {
            document.querySelector('.table_content').style.maxHeight = countTableHeight('body', [], true) - 210 + 'px'
        }
        window.onload = () => {
            document.querySelector('.table_content').style.maxHeight = countTableHeight('body', [], true) - 210 + 'px'
            // 待办
            document.querySelector('.table_label').addEventListener('click', (val) => {
                document.querySelector('.text1').innerText = ''
                document.querySelector('.text2').innerText = '完成待办'
            })
            let fn = (inx, index, type) => {
                if(inx < index) {
                    if(type == '1') {
                        document.querySelector('.titles').innerHTML = titleStr.substring(0, inx)
                    }else {
                        let img = document.createElement('img')
                        img.src = `image/${inx}.jpeg`
                        document.querySelector('.table_content').appendChild(img)
                    }
                    setTimeout(() => {
                        fn(++inx, index, type)
                    }, 200)
                }else {
                    if(type == '1') {
                        let audio = document.createElement('audio')
                        audio.src = 'image/zz.wav'
                        audio.play();
                    }
                }
            }
            for(let i = 1; i < 3; i++) {
                if(i == '1') {
                    fn(1, 11, i)
                }else {
                    fn(1, 6, i)
                }
            } 
        }
    </script>
</body>
</html>
